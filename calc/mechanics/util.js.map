{"version":3,"file":"util.js","sourceRoot":"","sources":["../../src/mechanics/util.ts"],"names":[],"mappings":"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"}